<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="map[name:Jack Collins]">
<meta name="description" content="Amazon Workspaces is a brilliant offering by AWS to allow users access to Windows 10 (or Amazon Linux) based Virtual Machines in the cloud, from anywhere in the world. Unlike EC2, it much more easily scales up for companies to allow remote and cloud based, Active-Directory integrated fleets of VMs for employees. However we can also use it on an individual scale to give access to a true Windows 10 box (not Windows server 2019) from anywhere in the World, without the need for using local CPU, RAM and disk resources for the VM." />
<meta name="keywords" content="linux, red hat, rhel, pentest, pentester, ansible, automation, bash, python, linux, aws" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="/articles/rhel_workspaces/" />


    <title>
        
            Amazon Workspaces on RHEL based distros :: Jack Collins  â€” Linux Admin | Automation | Security | Monitoring | UK
        
    </title>





<link rel="stylesheet" href="/main.f65e09c8185054893957dfcdc776fa9ce9fc62f0b08aa061db93060f56459776.css" integrity="sha256-9l4JyBhQVIk5V9/Nx3b6nOn8YvCwiqBh25MGD1ZFl3Y=" crossorigin="anonymous">



    <link rel="apple-touch-icon" sizes="180x180" href="/favicon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="Amazon Workspaces on RHEL based distros">
<meta itemprop="description" content="Amazon Workspaces is a brilliant offering by AWS to allow users access to Windows 10 (or Amazon Linux) based Virtual Machines in the cloud, from anywhere in the world. Unlike EC2, it much more easily scales up for companies to allow remote and cloud based, Active-Directory integrated fleets of VMs for employees. However we can also use it on an individual scale to give access to a true Windows 10 box (not Windows server 2019) from anywhere in the World, without the need for using local CPU, RAM and disk resources for the VM."><meta itemprop="datePublished" content="2023-02-23T20:06:30+01:00" />
<meta itemprop="dateModified" content="2023-02-23T20:06:30+01:00" />
<meta itemprop="wordCount" content="478"><meta itemprop="image" content="/images/profile_pic.png"/>
<meta itemprop="keywords" content="linux,aws," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="/images/profile_pic.png"/>

<meta name="twitter:title" content="Amazon Workspaces on RHEL based distros"/>
<meta name="twitter:description" content="Amazon Workspaces is a brilliant offering by AWS to allow users access to Windows 10 (or Amazon Linux) based Virtual Machines in the cloud, from anywhere in the world. Unlike EC2, it much more easily scales up for companies to allow remote and cloud based, Active-Directory integrated fleets of VMs for employees. However we can also use it on an individual scale to give access to a true Windows 10 box (not Windows server 2019) from anywhere in the World, without the need for using local CPU, RAM and disk resources for the VM."/>



    <meta property="og:title" content="Amazon Workspaces on RHEL based distros" />
<meta property="og:description" content="Amazon Workspaces is a brilliant offering by AWS to allow users access to Windows 10 (or Amazon Linux) based Virtual Machines in the cloud, from anywhere in the world. Unlike EC2, it much more easily scales up for companies to allow remote and cloud based, Active-Directory integrated fleets of VMs for employees. However we can also use it on an individual scale to give access to a true Windows 10 box (not Windows server 2019) from anywhere in the World, without the need for using local CPU, RAM and disk resources for the VM." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/articles/rhel_workspaces/" /><meta property="og:image" content="/images/profile_pic.png"/><meta property="article:section" content="articles" />
<meta property="article:published_time" content="2023-02-23T20:06:30+01:00" />
<meta property="article:modified_time" content="2023-02-23T20:06:30+01:00" />







    <meta property="article:published_time" content="2023-02-23 20:06:30 &#43;0100 &#43;0100" />











    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">&gt;</span>
            <span class="logo__text ">
                jackcollins.me.uk$ </span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/articles">Articles</a></li><li><a href="/documents/Jack_Collins_Platform_Engineer_CV.pdf">Download CV</a></li><li><a href="/tags">Tags</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="/articles/rhel_workspaces/">Amazon Workspaces on RHEL based distros</a></h2>

            
            
            

            <div class="post-content">
                <p>Amazon Workspaces is a brilliant offering by AWS to allow users access to Windows 10 (or Amazon Linux) based Virtual Machines in the cloud, from anywhere in the world.
Unlike EC2, it much more easily scales up for companies to allow remote and cloud based, Active-Directory integrated fleets of VMs for employees. However we can also use it on an individual scale to give access to a true Windows 10 box (not Windows server 2019) from anywhere in the World, without the need for using local CPU, RAM and disk resources for the VM. Certainly handy for Pentesting, especially when you use Linux as your OS of choice and a T430 laptop that can handle about as many VMs as I&rsquo;ve had dates with Samantha Mumba.</p>
<p>To access these VMs, there are many options, including using any web browser. Sounds good, right? Well, not so much; after playing about with Workspaces myself, I found the browser access to be too laggy and often it left weird artifacts on the screen. Fine for a quick in-and-out to fix an issue with a server, remotely, from anywhere I might happen to be. Not so great for longer-term use.</p>
<p>Enter Amazon&rsquo;s other options for accessing their Workspaces VMs; The Amazon Workspaces Application. It&rsquo;s available for Windows, Mac, even Android and ChromeOS. But the Linux offering, as of March 2021, is for Ubuntu only, a .deb package. No good to me, an avid bare-metal Fedora user! I need an rpm, and one that works.</p>
<hr>
<p><a href="https://github.com/0phoi5/fedora_workspaces">Get my GitHub script for applying the solution automatically</a></p>
<hr>
<h2 id="the-solution">The Solution</h2>
<p>Alien! No, really.</p>
<p>The following has been tested in March 2021, using Fedora release 33 and workspacesclient.x86_64 v3.1.3.925-2</p>
<p>We can actually start with Amazon&rsquo;s .deb package for Workspaces. You can grab it here.
Ignore the instructions around setting up a repo, click the direct download link to download the .deb package instead.</p>
<p>If you don&rsquo;t already have them, install alien and rpmrebuild</p>
<pre tabindex="0"><code>sudo yum install alien rpmrebuild
</code></pre><p>Run the following to convert the .deb package you downloaded to a .rpm</p>
<pre tabindex="0"><code>sudo alien --to-rpm workspacesclient_amd64.deb
</code></pre><p>The created rpm will contain an error that will currently prevent it from installing; namely that it tries to modify the / directory and that isn&rsquo;t allowed. To fix this, run;</p>
<pre tabindex="0"><code>rpmrebuild --package --edit-spec workspacesclient-*.x86_64.rpm
</code></pre><p>Delete the following line from the opened rpm, then save;</p>
<pre tabindex="0"><code>%dir %attr(0755, root, root) &quot;/&quot;
</code></pre><p>Now install the rpm, noting that the output location for the newly amended rpm is different, so use the path below;</p>
<pre tabindex="0"><code>sudo rpm --install /home/[USER]/rpmbuild/RPMS/x86_64/workspacesclient-*.x86_64.rpm
</code></pre><p>And hey presto! You should hopefully now have a working version of Amazon Workspaces installed.</p>
<p>The only downside to this method is that, as we&rsquo;re not installing Amazon&rsquo;s Ubuntu repo, you will need to manually upgrade the application going forwards. Hopefully Amazon will add Red Hat support one day. At least it&rsquo;s an easy process!</p>
<hr>
<p><a href="#top">Top of page</a></p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="/tags/linux/">linux</a></span>
        <span class="tag"><a href="/tags/aws/">aws</a></span>
        
    </p>

            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>Created in Linux CLI using <a href="http://gohugo.io">Hugo</a></span><span>Self Hosted via Github and AWS Amplify</span><span><a href="/disclaimer">Disclaimer</a></span>
        </div>
    </div>
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.644292943ae47eef02fcd64b11757aeb8caeeaebf473a823b62099edccac808e8d82689359f285e5d95994e5ad5ae3b9c1ccc281eb1828e67d0ba6630f95b832.js" integrity="sha512-ZEKSlDrkfu8C/NZLEXV664yu6uv0c6gjtiCZ7cysgI6NgmiTWfKF5dlZlOWtWuO5wczCgesYKOZ9C6ZjD5W4Mg==" crossorigin="anonymous"></script>



    </body>
</html>
